<div class="container">
  <div class="col-xs-12 text-center">
    <div class="row">
      <h1><%= @cocktail.name %></h1>
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">Dose No.</th>
            <th scope="col">Ingredient</th>
            <th scope="col">Description</th>
            <th scope="col"><%= link_to(new_cocktail_dose_path(@cocktail)) do %>
              <i class="fas fa-plus-circle">
              <% end %></i></th>
          </tr>
        </thead>
        <% @cocktail.doses.each_with_index do |d, i| %>
          <tbody>
            <tr>
              <th scope="row"><%= i + 1 %></th>
              <td class="text-left"><%= d.ingredient.name %></td>
              <td class="text-left"><%= d.description %></td>
              <td class="text-left"><%= link_to '🗑️', dose_path(d), method: :delete, data: { confirm: "Are you sure?" } %></td>
            </tr>
          </tbody>
        <% end %>
      </table>

      <% if !notice.nil? %>
        <div class="errors-container">
          <h3>Input warnings : </h3>
          <ul class="list-unstyled">
            <% notice.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <%= simple_form_for [@cocktail, @dose] do |f| %>

        <h2>Add a new dose</h2>

        <div class="form-group">
          <%= f.input :description, class: "form-control" %>
        </div>
        <div class="form-group">
          <%= f.association :ingredient, collection: Ingredient.order('name ASC') %>
        </div>
        <%= f.button :submit, class: "btn btn-primary" %>
        <%= link_to "Clear input", "#", class: "btn btn-danger" %>
      <% end %>

    </div>
  </div>
</div>
